# Proxy

## HTTP1的协议结构

* 请求体

```text

+--------+---------+---------+---------+---------+------+
| METHOD | [SPACE] | URI/URL | [SPACE] | VERSION | CRLF |
+---------------+----------+---------------------+------+
|      KEY      | :[SPACE] |       VALUE         | CRLF |
+---------------+----------+---------------------+------+
|      KEY      | :[SPACE] |       VALUE         | CRLF |
+---------------+----------+---------------------+------+
|      KEY      | :[SPACE] |       VALUE         | CRLF |
+------+------------------------------------------------+
| CRLF |
+-------------------------------------------------------+
|                       [BODY]                          |
+-------------------------------------------------------+

```

* 响应体
 ```text
+---------+---------+------+---------+---------+------+
| VERSION | [SPACE] | CODE | [SPACE] | PHRASES | CRLF | 
+---------------+----------+-------------------+------+
|      KEY      | :[SPACE] |       VALUE       | CRLF |
+---------------+----------+-------------------+------+
|      KEY      | :[SPACE] |       VALUE       | CRLF |
+---------------+----------+-------------------+------+
|      KEY      | :[SPACE] |       VALUE       | CRLF |
+------+------------------------------------------------+
| CRLF |
+-----------------------------------------------------+
|                       [BODY]                        |
+-----------------------------------------------------+

```

### HTTPS代理建立
HTTPS是加密的，和HTTP的建立过程是不一致的
* 请求体
```text
+---------+---------+--------+---------+---------+------+
| CONNECT | [SPACE] | [ADDR] | [SPACE] | VERSION | CRLF |
+---------------+----------+---------------------+------+
|      Host     | :[SPACE] |       [Host]        | CRLF |
+---------------+----------+---------------------+------+
| CRLF |

CONNECT www.baidu.com HTTP/1.1
Host: www.baidu.com

```

* 响应体
```text
+---------+---------+------+---------+---------+------+
| VERSION | [SPACE] | CODE | [SPACE] | PHRASES | CRLF | 
+-------------+----------+---------------------+------+
| CRLF |

HTTP/1.1 200 OK
```